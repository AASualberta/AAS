<div>
  <p id="msg"></p>
  <button id="start" type="button" class="btn btn-danger" disabled>start</button>
  <button id="next" type="button" class="btn btn-danger" disabled>switch next</button>
  <button id="stop" type="button" class="btn btn-danger" disabled>stop</button>
</div>
<script src="/socket.io/socket.io.js"></script>
<script type="text/javascript">

  const socket = io();
  socket.on('init', function(msg){
    document.getElementById("start").disabled = false;
    document.getElementById("next").disabled = false;
    document.getElementById("stop").disabled = false;
  });
  socket.on('msg', function(msg){
    //alert("msg")
    document.getElementById("msg").innerHTML = msg;
      //$('#msg').append($('<li>').text(msg));
  });

  const startbutton = document.getElementById("start")
  const nextbutton = document.getElementById("next")
  const stopbutton = document.getElementById("stop")

  startbutton.addEventListener('click', function() {
    console.log("start")
    fetch('/start', {method: 'POST'})
      .then(response => response.text())
      .then(text => {
        //document.getElementById('msg').innerHTML = text;
      })
  })


  nextbutton.addEventListener('click', function() {
    fetch('/next', {method: 'POST'})
      .then(response => response.text())
      .then(text => {
        document.getElementById('msg').innerHTML = text;
      })
  })


  stopbutton.addEventListener('click', function() {
    fetch('/stop', {method: 'POST'})
      .then(response => response.text())
      .then(text => {
        document.getElementById('msg').innerHTML = text;
      })
  })

</script>
